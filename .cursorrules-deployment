# Render Deployment Configuration
# Simon Game App - Deployment Documentation
# Last updated: 2026-01-11

## Services Overview

### Backend Service: simon-game-backend
- **Type:** Web Service (Node.js)
- **Service ID:** srv-d5hpkel6ubrc7385u2lg
- **URL:** https://simon-game-backend-n53s.onrender.com
- **Dashboard:** https://dashboard.render.com/web/srv-d5hpkel6ubrc7385u2lg
- **Region:** Oregon (US West)
- **Plan:** Starter ($7/month)
- **Runtime:** Node.js
- **Branch:** orpi/deploy-render
- **Repository:** https://github.com/orpi-wix/simon-game-app-cday
- **Build Command:** npm install && npm run build
- **Start Command:** npm start
- **Auto-Deploy:** Yes (on commit)

### Frontend Service: simon-game-frontend
- **Type:** Static Site
- **Service ID:** srv-d5hpfm6r433s73btpgog
- **URL:** https://simon-game-frontend-ozgt.onrender.com
- **Dashboard:** https://dashboard.render.com/static/srv-d5hpfm6r433s73btpgog
- **Region:** Oregon (US West)
- **Plan:** Starter (Free)
- **Branch:** orpi/deploy-render
- **Repository:** https://github.com/orpi-wix/simon-game-app-cday
- **Build Command:** cd frontend && npm install && npm run build
- **Publish Path:** frontend/dist
- **Auto-Deploy:** Yes (on commit)

## Environment Variables

### Backend (simon-game-backend)
| Variable | Value | Description |
|----------|-------|-------------|
| NODE_ENV | production | Runtime environment |
| PORT | 10000 | Server port (Render default) |
| JWT_SECRET | simon-game-secret-key-2026 | JWT signing secret |
| FRONTEND_URL | https://simon-game-frontend-ozgt.onrender.com | CORS allowed origin |
| NPM_CONFIG_LOGLEVEL | warn | npm log verbosity |
| RENDER_CLEAR_CACHE | true | Clear build cache |

### Frontend (simon-game-frontend)
| Variable | Value | Description |
|----------|-------|-------------|
| VITE_API_URL | https://simon-game-backend-n53s.onrender.com | Backend API endpoint |
| VITE_SOCKET_URL | https://simon-game-backend-n53s.onrender.com | WebSocket endpoint |
| NPM_CONFIG_LOGLEVEL | warn | npm log verbosity |
| RENDER_CLEAR_CACHE | true | Clear build cache |

## Deployment Workflow

1. **Push to branch:** `orpi/deploy-render`
2. **Auto-deploy triggers** on both services
3. **Backend builds first** (~3-5 minutes)
4. **Frontend builds** (~2-3 minutes)

## Manual Deploy

To trigger a manual deploy:
1. Go to the service dashboard
2. Click "Manual Deploy"
3. Select "Clear build cache & deploy" for fresh builds

## Local Development

```bash
# Start local dev server
npm run dev

# Frontend: http://localhost:5173
# Backend:  http://localhost:3000
```

## Troubleshooting

### Build Failures
- Check Node.js version matches `.node-version` (20.18.0)
- Ensure `package-lock.json` is committed
- Try "Clear build cache & deploy"

### Connection Issues
- Verify CORS settings (FRONTEND_URL)
- Check WebSocket URL in frontend env vars
- Ensure backend is running (check /health endpoint)

## GitHub Repository

- **Fork:** https://github.com/orpi-wix/simon-game-app-cday
- **Upstream:** https://github.com/itayshmool/simon-game-app-cday
- **Branch:** orpi/deploy-render
